# 开荒一个flask写的博客后端
- [x] 2021.1.26 重新开始熟悉python和flask
- [x] 2021.2.21 做一个验证数据库完整性的装饰器
- [x] 2021.2.22 这个装饰器只用在了/hello/test上，现在要全面启用，所有orm操作都需要用上
- [x] 2021.2.23 所有orm操作都要改造，因为session、table class的位置都变了
- [x] 2021.2.23 reqparse.RequestParser()要不要做在一个文件里，然后其他文件来引用，这样也许能降低内存：试过了，发现会报错
- [x] 2021.2.25 对接login接口存在问题，前端的post已经接通，可以设置token，但是用get方法把token传递给后端时没有接通，是因为get方法的接口还没有修改。但是前端已经定义了两种角色：admin-token和editor-token，需要在后端的表里做修改
- [x] 2021.2.25 问题出在前端没有成功保存cookie，原因是因为前端调用了清除cookie的接口
- [x] 2021.3.1 继续寻找调用清除cookies的代码，正在捋清调用顺序
- [x] 登录组件
- [x] 2021.3.2 验证用户名是否重复的接口
- [x] 2021.3.8 上传头像，并且修改数据库的接口。要保证验证token。前端修改头像后形成的是blob文件，用post传到后端，发现后端接收不到。可以尝试在前端把blob转成png后再传到后端
- [x] 2021.3.21 后端在token里赋值user的id，但前端没有接收到
- [x] 2021.3.22 后端接收头像后，生成文件夹
- [x] 2021.3.31 新问题，如果给avatar命名添加时间戳，那就会无限新增文件，除非在上传后清空文件夹
- [x] 2021.3.31 修改头像，完成
- [ ] 2021.3.31 后端返回token的地方有好几个，万一以后新增token的字段，要修改的地方也有好几处，要做一个外接接口。2021.4.1尝试用flask_restful fields失败了，可能因为加密时二次jsonify的原因，fields不能二次jsonify。
- [ ] 2021.3.31 修改用户名，并修改前端token
- [ ] 2021.4.1 使用flasl_upload库
- [ ] 2021.4.1 编辑文章，采用图库形式

- [ ] 2021.3.31 前端api的斜杠问题不统一
- [ ] 2021.3.31 后端修改avatar的端口会返回data，前端不知道用不用得到
- [ ] 邮箱验证码注册。目前还要给验证码设置有效期。验证码用协程
- [ ] 邮箱验证码登录
- [ ] github登录后获取头像和名字，绑定邮箱